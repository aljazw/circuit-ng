import{a as Y,c as H}from"./chunk-MMTRXB6E.js";import{a as U}from"./chunk-SJ3MZAYP.js";import{G as O}from"./chunk-KSPGRP7I.js";import{$ as P,A as v,B as c,C as o,Ca as D,D as r,E as I,G as u,H as b,Ha as R,I as m,J as f,Ja as j,K as _,La as z,N as a,O as l,Sa as q,Ta as V,Va as W,ca as E,da as g,ea as x,fa as M,ga as F,ha as S,ia as w,ja as L,ka as T,la as N,oa as G,ua as B,v as e,w as d,x as y,xa as A,z as h}from"./chunk-NL4QJYCF.js";import"./chunk-HB7CQCBC.js";import{a as k}from"./chunk-VKWB5ZIR.js";import"./chunk-ZIEJECAL.js";import"./chunk-ZKIZOI5D.js";import"./chunk-QTAXBO3P.js";import"./chunk-CW7FUU2B.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as C}from"./chunk-D7YYRZS5.js";function K(s,n){if(s&1&&(o(0,"ion-note",7),m(1),a(2,"translate"),r()),s&2){let t=b();e(),_(" ",l(2,1,t.getError("email"))," ")}}function Q(s,n){if(s&1&&(o(0,"ion-note",7),m(1),a(2,"translate"),r()),s&2){let t=b();e(),_(" ",l(2,1,t.getError("password"))," ")}}var J=class s{constructor(n,t,i){this.authService=n;this.translate=t;this.toastController=i;k({alertCircleOutline:z}),this.loginForm=new F({email:new S("",[g.required,g.email]),password:new S("",[g.required,g.minLength(8)])})}loginForm;submitted=!1;loading=!1;getError(n){return Y(this.loginForm.get(n),n,this.submitted)}ngOnInit(){}submit(){return C(this,null,function*(){if(this.submitted=!0,!this.loginForm.valid)return;let{email:n,password:t}=this.loginForm.value;this.loading=!0;try{yield this.authService.login(n,t)}catch(i){i.code==="auth/invalid-credential"?this.translate.get("WRONG_CREDENTIALS").subscribe(p=>this.showErrorMessage(p)):this.translate.get("LOGIN_FAILED").subscribe(p=>this.showErrorMessage(p))}finally{this.loading=!1}})}showErrorMessage(n){return C(this,null,function*(){(yield this.toastController.create({message:n,duration:3e3,color:"danger",position:"top",icon:"alert-circle-outline"})).present()})}onFocus(){this.submitted=!1}static \u0275fac=function(t){return new(t||s)(d(O),d(q),d(R))};static \u0275cmp=y({type:s,selectors:[["app-login-page"]],decls:27,vars:22,consts:[[1,"ion-padding"],[1,"login-content"],[1,"login-container"],[1,"login-title"],[1,"login-subtitle"],[3,"ngSubmit","formGroup"],["type","email","formControlName","email","labelPlacement","floating",3,"ionFocus","label"],["color","danger"],["type","password","formControlName","password","labelPlacement","floating","enterkeyhint","done",3,"ionFocus","label"],["label","LOGIN",3,"loading"],[1,"sign-container"],[1,"sign-text"],["fill","clear","routerLink","/register"]],template:function(t,i){t&1&&(I(0,"app-header"),o(1,"ion-content",0)(2,"div",1)(3,"div",2)(4,"h1",3),m(5),a(6,"translate"),r(),o(7,"p",4),m(8),a(9,"translate"),r(),o(10,"form",5),u("ngSubmit",function(){return i.submit()}),o(11,"ion-item")(12,"ion-input",6),a(13,"translate"),u("ionFocus",function(){return i.onFocus()}),r()(),h(14,K,3,3,"ion-note",7),o(15,"ion-item")(16,"ion-input",8),a(17,"translate"),u("ionFocus",function(){return i.onFocus()}),r()(),h(18,Q,3,3,"ion-note",7),I(19,"app-auth-button",9),r(),o(20,"div",10)(21,"p",11),m(22),a(23,"translate"),r(),o(24,"ion-button",12),m(25),a(26,"translate"),r()()()()()),t&2&&(e(5),f(l(6,10,"LOGIN_TITLE")),e(3),f(l(9,12,"LOGIN_SUBTITLE")),e(2),c("formGroup",i.loginForm),e(2),c("label",l(13,14,"EMAIL")),e(2),v(i.getError("email")?14:-1),e(2),c("label",l(17,16,"PASSWORD")),e(2),v(i.getError("password")?18:-1),e(),c("loading",i.loading),e(3),f(l(23,18,"NO_ACCOUNT_MESSAGE")),e(3),_(" ",l(26,20,"SIGN_UP")," "))},dependencies:[B,A,D,G,j,W,N,w,x,M,L,T,E,P,U,H,V],styles:[".login-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;text-align:center}.login-title[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:700;margin-bottom:.5rem;animation:_ngcontent-%COMP%_fadeInDown .6s ease}.login-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:2rem;color:gray;animation:_ngcontent-%COMP%_fadeIn .8s ease}.login-btn[_ngcontent-%COMP%]{margin-top:1.5rem}.sign-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;font-size:.9rem;gap:.2rem}.sign-text[_ngcontent-%COMP%]{opacity:.5}ion-input[_ngcontent-%COMP%]{--highlight-color-valid: none;--highlight-color-focused: none;--highlight-color-invalid: none}.sign-container[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};export{J as LoginPageComponent};
